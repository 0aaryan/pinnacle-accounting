{{ define "main" }}
  {{ partial "page-header.html" . }}


  <section class="section">
    <div class="container">
      <div class="row justify-content-center align-items-center">
        <div
          class="col-lg-5 col-md-8 text-center mb-5 mb-lg-0"
          data-aos="fade-up">
          <div class="pe-0 pe-lg-5">
            {{ if fileExists (add `assets/` .Params.contact_image) }}
              {{ $img:= resources.Get .Params.contact_image }}
              {{ $img:= $img.Resize "575x" }}
              <img
                loading="lazy"
                decoding="async"
                class="img-fluid"
                width="{{ $img.Width }}"
                height="{{ $img.Height }}"
                src="{{ $img.RelPermalink }}"
                alt="cobtact image"
                onerror="this.onerror=null;this.src='{{ $img.RelPermalink }}'" />
            {{ end }}
          </div>
        </div>
        {{ with site.Params.contact_form_action }}
          <div class="col-lg-5 col-md-10" data-aos="fade-up">
            <div class="contact-form">
              <div class="mb-4">
                <h3>Send A Message</h3>
              </div>
              <form id="services-form" action="{{ . }}" method="POST">
    <p id="form-status" class="form-status"></p>
    
    <div class="form-group">
        <label for="services">Which services are you interested in?</label>
        <select class="form-control shadow-none" id="services" name="services" required>
            <option value="" disabled selected>Select a service</option>
            <option value="tax_preparation">Tax Preparation</option>
            <option value="financial_advisory">Financial Advisory</option>
            <option value="accounting">Accounting</option>
            <option value="other">Other</option>
        </select>
    </div>

    <div class="form-group">
        <label for="requirement">What is your requirement for?</label>
        <select class="form-control shadow-none" id="requirement" name="requirement" required>
            <option value="" disabled selected>Select an option</option>
            <option value="personal">Personal</option>
            <option value="business">Business</option>
            <option value="non_government">Non-Government</option>
            <option value="charity_organization">Charity Organization</option>
            <option value="residential_society">Residential Society</option>
        </select>
    </div>

    <div class="form-group">
        <label for="annual_income">What is your annual income before tax?</label>
        <select class="form-control shadow-none" id="annual_income" name="annual_income" required>
            <option value="" disabled selected>Select your income range</option>
            <option value="less_than_2.5_lakhs">Less than Rs 2.5 Lakhs</option>
            <option value="2.5_to_4.9_lakhs">Rs 2.5 - 4.9 Lakhs</option>
            <option value="5_to_10_lakhs">Rs 5 - 10 Lakhs</option>
            <option value="10_to_50_lakhs">Rs 10 - 50 Lakhs</option>
            <option value="more_than_50_lakhs">More than Rs 50 Lakhs</option>
            <option value="prefer_not_to_say">Prefer not to say</option>
        </select>
    </div>

    <div class="form-group">
        <label for="income_sources">What are your income sources?</label>
        <input
            class="form-control shadow-none"
            id="income_sources"
            name="income_sources"
            type="text"
            placeholder="e.g., salary, business, investments"
            required />
    </div>

    <div class="form-group">
        <label for="time_frame">How soon would you like tax preparation done?</label>
        <select class="form-control shadow-none" id="time_frame" name="time_frame" required>
            <option value="" disabled selected>Select a timeframe</option>
            <option value="asap">ASAP</option>
            <option value="next_week">In the next week</option>
            <option value="next_month">In the next month</option>
            <option value="flexible">Flexible</option>
        </select>
    </div>

    <div class="form-group">
        <label for="consultation">Would you consider online or remote consultation?</label>
        <select class="form-control shadow-none" id="consultation" name="consultation" required>
            <option value="" disabled selected>Select an option</option>
            <option value="yes">Yes</option>
            <option value="no">No</option>
            <option value="maybe">Maybe</option>
        </select>
    </div>

    <button
        class="btn btn-primary w-100"
        type="submit"
        aria-label="Submit Services Request">
        Submit Request
    </button>
</form>
            </div>
          </div>

          <script>
            var form = document.getElementById("contact-form");
            async function handleSubmit(event) {
              event.preventDefault();
              var status = document.getElementById("form-status");
              var data = new FormData(event.target);
              fetch(event.target.action, {
                method: form.method,
                body: data,
                headers: {
                  Accept: "application/json",
                },
              })
                .then((response) => {
                  status.innerHTML = "Thanks for your submission!";
                  form.reset();
                })
                .catch((error) => {
                  status.innerHTML =
                    "Oops! There was a problem submitting your form";
                });
            }
            form.addEventListener("submit", handleSubmit);
          </script>
        {{ end }}
      </div>

      <div class="section pb-0">
        <div class="row justify-content-center">
          <div class="col-12">
            <div class="section-title text-center" data-aos="fade-up">
              <p class="text-uppercase">Contact us</p>
              <h2 class="title">Get In Touch</h2>
            </div>
          </div>

          {{ with site.Params.contact_info.phone }}
            <div
              class="col-xl-3 col-lg-4 col-md-6 contact-widget"
              data-aos="fade-up">
              <div class="block text-center">
                <h3 class="mb-4">Phone</h3>
                <ul class="list-unstyled">
                  {{ range . }}
                    {{ if . }}
                      <li>
                        <a href="tel:{{ . }}">
                          <i class="las la-phone"></i>
                          {{ . }}
                        </a>
                      </li>
                    {{ end }}
                  {{ end }}
                </ul>
              </div>
            </div>
          {{ end }}

          {{ with site.Params.contact_info.email }}
            <div
              class="col-xl-3 col-lg-4 col-md-6 contact-widget"
              data-aos="fade-up"
              data-aos-delay="100">
              <div class="block text-center">
                <h3 class="mb-4">Email Address</h3>
                <ul class="list-unstyled">
                  {{ range . }}
                    {{ if . }}
                      <li>
                        <a href="mailto:{{ . }}">
                          <i class="las la-envelope-open-text"></i>
                          {{ . }}
                        </a>
                      </li>
                    {{ end }}
                  {{ end }}
                </ul>
              </div>
            </div>
          {{ end }}

          {{ with site.Params.social }}
            <div
              class="col-xl-3 col-lg-4 col-md-12 contact-widget"
              data-aos="fade-up"
              data-aos-delay="200">
              <div class="block text-center">
                <h3 class="mb-4">Social Media</h3>
                <ul class="list-unstyled">
                  {{ range . }}
                    {{ if . }}
                      <li>
                        <a href="{{ .link }}">
                          <i class="{{ .icon }}"></i>
                          {{ .title }}
                        </a>
                      </li>
                    {{ end }}
                  {{ end }}
                </ul>
              </div>
            </div>
          {{ end }}
        </div>
      </div>
    </div>
  </section>
{{ end }}
